# إعداد Progressive Web App (PWA)

## الملفات المطلوبة

تم إنشاء الملفات التالية:
- ✅ `manifest.json` - ملف التكوين الأساسي لـ PWA
- ✅ `service-worker.js` - Service Worker للعمل بدون إنترنت

## خطوات الإعداد

### 1. إضافة الأيقونة
تأكد من وجود ملف `kirkuk-logo.png` في مجلد `public/`:
- الحجم الموصى به: 512x512 بكسل
- الصيغة: PNG مع خلفية شفافة (يفضل)

إذا لم يكن الملف موجوداً، انسخه من مكان آخر في المشروع إلى `public/kirkuk-logo.png`

### 2. اختبار PWA محلياً

```bash
# بناء المشروع
npm run build

# تشغيل الخادم المحلي (يحتاج إلى خادم HTTPS للاختبار الكامل)
# يمكن استخدام serve أو أي خادم محلي
npx serve dist
```

### 3. اختبار على الموبايل

1. افتح الموقع على المتصفح (Chrome أو Safari)
2. على Android (Chrome):
   - اضغط على القائمة (⋮)
   - اختر "إضافة إلى الشاشة الرئيسية"
3. على iOS (Safari):
   - اضغط على زر المشاركة (Share)
   - اختر "إضافة إلى الشاشة الرئيسية"

### 4. الميزات المتاحة

- ✅ العمل بدون إنترنت (Offline Mode)
- ✅ إضافة إلى الشاشة الرئيسية
- ✅ إشعارات Push (جاهزة للإعداد)
- ✅ تحديث تلقائي عند توفر نسخة جديدة

### 5. تحديث Service Worker

عند تحديث الموقع، يجب تحديث `CACHE_NAME` في `service-worker.js`:
```javascript
const CACHE_NAME = 'kirkuk-health-v2'; // غيّر الرقم
```

## ملاحظات مهمة

1. **HTTPS مطلوب**: PWA يعمل فقط على HTTPS (أو localhost للتطوير)
2. **الأيقونات**: تأكد من وجود أيقونات بأحجام مختلفة (192x192 و 512x512)
3. **الاختبار**: اختبر على أجهزة حقيقية وليس فقط في المتصفح

## استكشاف الأخطاء

### Service Worker لا يعمل
- تأكد من أن الموقع يعمل على HTTPS
- تحقق من Console في Developer Tools
- تأكد من أن `service-worker.js` موجود في `public/`

### الأيقونة لا تظهر
- تأكد من وجود `kirkuk-logo.png` في `public/`
- تحقق من مسار الأيقونة في `manifest.json`
- تأكد من أن الملف قابل للوصول

### لا يظهر خيار "إضافة إلى الشاشة الرئيسية"
- تأكد من أن `manifest.json` صحيح
- تحقق من أن Service Worker مسجل بنجاح
- تأكد من أن الموقع يعمل على HTTPS

